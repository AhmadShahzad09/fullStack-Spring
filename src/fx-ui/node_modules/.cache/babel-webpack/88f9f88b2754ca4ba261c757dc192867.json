{"ast":null,"code":"import _asyncToGenerator from \"/workspaces/fx-deals/src/fx-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../data.service\";\nimport * as i3 from \"@angular/material/card\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../fx-deal/fx-deal.component\";\n\nfunction FxDealSearchComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelement(1, \"fx-deal\", 6);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"fxDeal\", ctx_r0.fxDeal);\n  }\n}\n\nexport class FxDealSearchComponent {\n  constructor(formBuilder, dataService) {\n    this.formBuilder = formBuilder;\n    this.dataService = dataService;\n    this.fxDeal = undefined;\n    this.searchForm = this.formBuilder.group({\n      searchText: ['']\n    });\n    this.loading = new EventEmitter();\n    this.alert = new EventEmitter();\n  }\n\n  searchFormSubmit() {\n    const searchText = this.searchForm.value.searchText;\n\n    if (searchText) {\n      this.getFxDealByUniqueId(searchText);\n    }\n  }\n\n  getFxDealByUniqueId(id) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.loading.emit(true);\n\n      try {\n        const response = yield _this.dataService.getFxDealByUniqueId(id);\n\n        if (!response.ok) {\n          const {\n            error\n          } = yield response.json();\n          _this.fxDeal = undefined;\n\n          _this.alert.emit({\n            visible: true,\n            status: 'danger',\n            message: error.message\n          });\n\n          return;\n        }\n\n        _this.fxDeal = yield response.json();\n      } catch (e) {\n        _this.fxDeal = undefined;\n\n        _this.alert.emit({\n          visible: true,\n          status: 'danger',\n          message: 'Error!'\n        });\n      } finally {\n        _this.loading.emit(false);\n      }\n    })();\n  }\n\n}\n\nFxDealSearchComponent.ɵfac = function FxDealSearchComponent_Factory(t) {\n  return new (t || FxDealSearchComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.DataService));\n};\n\nFxDealSearchComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FxDealSearchComponent,\n  selectors: [[\"fx-deal-search\"]],\n  outputs: {\n    loading: \"loading\",\n    alert: \"alert\"\n  },\n  decls: 11,\n  vars: 2,\n  consts: [[1, \"container\"], [1, \"row\"], [1, \"row-expand\", 3, \"formGroup\", \"submit\"], [\"id\", \"searchText\", \"type\", \"text\", \"formControlName\", \"searchText\", 1, \"search-bar\"], [\"type\", \"submit\", \"mat-button\", \"\", \"color\", \"primary\"], [\"class\", \"row\", 4, \"ngIf\"], [3, \"fxDeal\"]],\n  template: function FxDealSearchComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-card\");\n      i0.ɵɵelementStart(1, \"div\", 0);\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵelementStart(3, \"h3\");\n      i0.ɵɵtext(4, \"Search Deal by Unique ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 1);\n      i0.ɵɵelementStart(6, \"form\", 2);\n      i0.ɵɵlistener(\"submit\", function FxDealSearchComponent_Template_form_submit_6_listener() {\n        return ctx.searchFormSubmit();\n      });\n      i0.ɵɵelement(7, \"input\", 3);\n      i0.ɵɵelementStart(8, \"button\", 4);\n      i0.ɵɵtext(9, \" Search \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, FxDealSearchComponent_div_10_Template, 2, 1, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"formGroup\", ctx.searchForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.fxDeal);\n    }\n  },\n  directives: [i3.MatCard, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i4.NgIf, i5.FxDealComponent],\n  styles: [\"[_nghost-%COMP%] {\\n    width: 100%;\\n}\\n\\n.search-bar[_ngcontent-%COMP%] {\\n    width: 90%;\\n    margin: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZ4LWRlYWwtc2VhcmNoLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxVQUFVO0lBQ1YsU0FBUztBQUNiIiwiZmlsZSI6ImZ4LWRlYWwtc2VhcmNoLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gICAgd2lkdGg6IDEwMCU7XG59XG5cbi5zZWFyY2gtYmFyIHtcbiAgICB3aWR0aDogOTAlO1xuICAgIG1hcmdpbjogMDtcbn0iXX0= */\"]\n});","map":{"version":3,"sources":["/workspaces/fx-deals/src/fx-ui/src/app/fx-deal-search/fx-deal-search.component.ts"],"names":["EventEmitter","i0","i1","i2","i3","i4","i5","FxDealSearchComponent_div_10_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ctx_r0","ɵɵnextContext","ɵɵadvance","ɵɵproperty","fxDeal","FxDealSearchComponent","constructor","formBuilder","dataService","undefined","searchForm","group","searchText","loading","alert","searchFormSubmit","value","getFxDealByUniqueId","id","emit","response","ok","error","json","visible","status","message","e","ɵfac","FxDealSearchComponent_Factory","t","ɵɵdirectiveInject","FormBuilder","DataService","ɵcmp","ɵɵdefineComponent","type","selectors","outputs","decls","vars","consts","template","FxDealSearchComponent_Template","ɵɵtext","ɵɵlistener","FxDealSearchComponent_Template_form_submit_6_listener","ɵɵtemplate","directives","MatCard","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","DefaultValueAccessor","NgControlStatus","FormControlName","NgIf","FxDealComponent","styles"],"mappings":"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","sourcesContent":["import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../data.service\";\nimport * as i3 from \"@angular/material/card\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../fx-deal/fx-deal.component\";\nfunction FxDealSearchComponent_div_10_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelement(1, \"fx-deal\", 6);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"fxDeal\", ctx_r0.fxDeal);\n} }\nexport class FxDealSearchComponent {\n    constructor(formBuilder, dataService) {\n        this.formBuilder = formBuilder;\n        this.dataService = dataService;\n        this.fxDeal = undefined;\n        this.searchForm = this.formBuilder.group({\n            searchText: [''],\n        });\n        this.loading = new EventEmitter();\n        this.alert = new EventEmitter();\n    }\n    searchFormSubmit() {\n        const searchText = this.searchForm.value.searchText;\n        if (searchText) {\n            this.getFxDealByUniqueId(searchText);\n        }\n    }\n    async getFxDealByUniqueId(id) {\n        this.loading.emit(true);\n        try {\n            const response = await this.dataService.getFxDealByUniqueId(id);\n            if (!response.ok) {\n                const { error } = await response.json();\n                this.fxDeal = undefined;\n                this.alert.emit({\n                    visible: true,\n                    status: 'danger',\n                    message: error.message,\n                });\n                return;\n            }\n            this.fxDeal = await response.json();\n        }\n        catch (e) {\n            this.fxDeal = undefined;\n            this.alert.emit({\n                visible: true,\n                status: 'danger',\n                message: 'Error!',\n            });\n        }\n        finally {\n            this.loading.emit(false);\n        }\n    }\n}\nFxDealSearchComponent.ɵfac = function FxDealSearchComponent_Factory(t) { return new (t || FxDealSearchComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.DataService)); };\nFxDealSearchComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: FxDealSearchComponent, selectors: [[\"fx-deal-search\"]], outputs: { loading: \"loading\", alert: \"alert\" }, decls: 11, vars: 2, consts: [[1, \"container\"], [1, \"row\"], [1, \"row-expand\", 3, \"formGroup\", \"submit\"], [\"id\", \"searchText\", \"type\", \"text\", \"formControlName\", \"searchText\", 1, \"search-bar\"], [\"type\", \"submit\", \"mat-button\", \"\", \"color\", \"primary\"], [\"class\", \"row\", 4, \"ngIf\"], [3, \"fxDeal\"]], template: function FxDealSearchComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-card\");\n        i0.ɵɵelementStart(1, \"div\", 0);\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵelementStart(3, \"h3\");\n        i0.ɵɵtext(4, \"Search Deal by Unique ID\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 1);\n        i0.ɵɵelementStart(6, \"form\", 2);\n        i0.ɵɵlistener(\"submit\", function FxDealSearchComponent_Template_form_submit_6_listener() { return ctx.searchFormSubmit(); });\n        i0.ɵɵelement(7, \"input\", 3);\n        i0.ɵɵelementStart(8, \"button\", 4);\n        i0.ɵɵtext(9, \" Search \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(10, FxDealSearchComponent_div_10_Template, 2, 1, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"formGroup\", ctx.searchForm);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.fxDeal);\n    } }, directives: [i3.MatCard, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i4.NgIf, i5.FxDealComponent], styles: [\"[_nghost-%COMP%] {\\n    width: 100%;\\n}\\n\\n.search-bar[_ngcontent-%COMP%] {\\n    width: 90%;\\n    margin: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZ4LWRlYWwtc2VhcmNoLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxVQUFVO0lBQ1YsU0FBUztBQUNiIiwiZmlsZSI6ImZ4LWRlYWwtc2VhcmNoLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gICAgd2lkdGg6IDEwMCU7XG59XG5cbi5zZWFyY2gtYmFyIHtcbiAgICB3aWR0aDogOTAlO1xuICAgIG1hcmdpbjogMDtcbn0iXX0= */\"] });\n"]},"metadata":{},"sourceType":"module"}