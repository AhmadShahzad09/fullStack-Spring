{"ast":null,"code":"import _asyncToGenerator from \"/workspaces/fx-deals/src/fx-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../data.service\";\nimport * as i2 from \"@angular/material/card\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../fx-deal/fx-deal.component\";\n\nfunction FxDealListComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelement(1, \"fx-deal\", 3);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const fxDeal_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"fxDeal\", fxDeal_r1);\n  }\n}\n\nexport class FxDealListComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.fxDeals = [];\n    this.loading = new EventEmitter();\n    this.alert = new EventEmitter();\n  }\n\n  ngOnInit() {\n    this.getAllFxDeals();\n  }\n\n  getAllFxDeals() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.loading.emit(true);\n\n      try {\n        const response = yield _this.dataService.getAllFxDeals();\n\n        if (!response.ok) {\n          const {\n            error\n          } = yield response.json();\n          _this.fxDeals = [];\n\n          _this.alert.emit({\n            visible: true,\n            status: 'danger',\n            message: error.message\n          });\n\n          return;\n        }\n\n        const {\n          responseBody\n        } = yield response.json();\n        _this.fxDeals = JSON.parse(JSON.stringify(responseBody));\n      } catch (e) {\n        _this.fxDeals = [];\n\n        _this.alert.emit({\n          visible: true,\n          status: 'danger',\n          message: 'Error!'\n        });\n      } finally {\n        _this.loading.emit(false);\n      }\n    })();\n  }\n\n}\n\nFxDealListComponent.ɵfac = function FxDealListComponent_Factory(t) {\n  return new (t || FxDealListComponent)(i0.ɵɵdirectiveInject(i1.DataService));\n};\n\nFxDealListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FxDealListComponent,\n  selectors: [[\"fx-deal-list\"]],\n  outputs: {\n    loading: \"loading\",\n    alert: \"alert\"\n  },\n  decls: 6,\n  vars: 1,\n  consts: [[1, \"container\"], [1, \"row\"], [\"class\", \"row\", 4, \"ngFor\", \"ngForOf\"], [3, \"fxDeal\"]],\n  template: function FxDealListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-card\");\n      i0.ɵɵelementStart(1, \"div\", 0);\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵelementStart(3, \"h3\");\n      i0.ɵɵtext(4, \"All FX Deals\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(5, FxDealListComponent_div_5_Template, 2, 1, \"div\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.fxDeals);\n    }\n  },\n  directives: [i2.MatCard, i3.NgForOf, i4.FxDealComponent],\n  styles: [\"[_nghost-%COMP%] {\\n    width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZ4LWRlYWwtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztBQUNmIiwiZmlsZSI6ImZ4LWRlYWwtbGlzdC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICAgIHdpZHRoOiAxMDAlO1xufVxuIl19 */\"]\n});","map":{"version":3,"sources":["/workspaces/fx-deals/src/fx-ui/src/app/fx-deal-list/fx-deal-list.component.ts"],"names":["EventEmitter","i0","i1","i2","i3","i4","FxDealListComponent_div_5_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","fxDeal_r1","$implicit","ɵɵadvance","ɵɵproperty","FxDealListComponent","constructor","dataService","fxDeals","loading","alert","ngOnInit","getAllFxDeals","emit","response","ok","error","json","visible","status","message","responseBody","JSON","parse","stringify","e","ɵfac","FxDealListComponent_Factory","t","ɵɵdirectiveInject","DataService","ɵcmp","ɵɵdefineComponent","type","selectors","outputs","decls","vars","consts","template","FxDealListComponent_Template","ɵɵtext","ɵɵtemplate","directives","MatCard","NgForOf","FxDealComponent","styles"],"mappings":"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","sourcesContent":["import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../data.service\";\nimport * as i2 from \"@angular/material/card\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../fx-deal/fx-deal.component\";\nfunction FxDealListComponent_div_5_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelement(1, \"fx-deal\", 3);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const fxDeal_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"fxDeal\", fxDeal_r1);\n} }\nexport class FxDealListComponent {\n    constructor(dataService) {\n        this.dataService = dataService;\n        this.fxDeals = [];\n        this.loading = new EventEmitter();\n        this.alert = new EventEmitter();\n    }\n    ngOnInit() {\n        this.getAllFxDeals();\n    }\n    async getAllFxDeals() {\n        this.loading.emit(true);\n        try {\n            const response = await this.dataService.getAllFxDeals();\n            if (!response.ok) {\n                const { error } = await response.json();\n                this.fxDeals = [];\n                this.alert.emit({\n                    visible: true,\n                    status: 'danger',\n                    message: error.message,\n                });\n                return;\n            }\n            const { responseBody } = await response.json();\n            this.fxDeals = JSON.parse(JSON.stringify(responseBody));\n        }\n        catch (e) {\n            this.fxDeals = [];\n            this.alert.emit({\n                visible: true,\n                status: 'danger',\n                message: 'Error!',\n            });\n        }\n        finally {\n            this.loading.emit(false);\n        }\n    }\n}\nFxDealListComponent.ɵfac = function FxDealListComponent_Factory(t) { return new (t || FxDealListComponent)(i0.ɵɵdirectiveInject(i1.DataService)); };\nFxDealListComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: FxDealListComponent, selectors: [[\"fx-deal-list\"]], outputs: { loading: \"loading\", alert: \"alert\" }, decls: 6, vars: 1, consts: [[1, \"container\"], [1, \"row\"], [\"class\", \"row\", 4, \"ngFor\", \"ngForOf\"], [3, \"fxDeal\"]], template: function FxDealListComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-card\");\n        i0.ɵɵelementStart(1, \"div\", 0);\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵelementStart(3, \"h3\");\n        i0.ɵɵtext(4, \"All FX Deals\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(5, FxDealListComponent_div_5_Template, 2, 1, \"div\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.fxDeals);\n    } }, directives: [i2.MatCard, i3.NgForOf, i4.FxDealComponent], styles: [\"[_nghost-%COMP%] {\\n    width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZ4LWRlYWwtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztBQUNmIiwiZmlsZSI6ImZ4LWRlYWwtbGlzdC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICAgIHdpZHRoOiAxMDAlO1xufVxuIl19 */\"] });\n"]},"metadata":{},"sourceType":"module"}